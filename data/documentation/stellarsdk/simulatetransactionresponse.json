{"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/stellarsdk\/simulatetransactionresponse"]}],"metadata":{"role":"symbol","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"SimulateTransactionResponse"}],"externalID":"c:@M@stellarsdk@objc(cs)SimulateTransactionResponse","roleHeading":"Class","modules":[{"name":"stellarsdk"}],"navigatorTitle":[{"text":"SimulateTransactionResponse","kind":"identifier"}],"symbolKind":"class","title":"SimulateTransactionResponse"},"kind":"symbol","abstract":[{"text":"Response from simulating a Soroban contract invocation.","type":"text"}],"topicSections":[{"anchor":"Initializers","generated":true,"title":"Initializers","identifiers":["doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/init(from:)"]},{"anchor":"Instance-Properties","generated":true,"title":"Instance Properties","identifiers":["doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/error","doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/events","doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/footprint","doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/latestLedger","doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/minResourceFee","doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/restorePreamble","doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/results","doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/sorobanAuth","doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/stateChanges","doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/transactionData"]}],"primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["swift"],"platforms":["macOS"],"tokens":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"SimulateTransactionResponse"}]}]},{"content":[{"anchor":"overview","type":"heading","level":2,"text":"Overview"},{"type":"paragraph","inlineContent":[{"text":"Contains all information needed to understand what will happen when a transaction executes:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Return values from contract function calls"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Resource requirements (CPU instructions, memory, I\/O)"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Ledger footprint (which ledger entries will be read\/written)"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Authorization requirements for multi-party transactions"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Events emitted during simulation","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Required fees and resource costs"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use this response to:"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Get results from read-only contract calls without submitting a transaction","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Determine resource limits before submitting a write transaction","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Check if ledger entries need restoration before invocation"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Validate that a transaction will succeed before submission"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Before submitting a write transaction, you must:"}]},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Simulate the transaction"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Use transactionData and minResourceFee from the simulation","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add these to your transaction"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Sign and submit"}]}]}]},{"type":"paragraph","inlineContent":[{"text":"Example:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["let simResponse = await server.simulateTransaction(simulateTxRequest: request)","switch simResponse {","case .success(let simulation):","    \/\/ Check for errors","    if let error = simulation.error {","        print(\"Simulation failed: \\(error)\")","        return","    }","","    \/\/ Check if restoration is needed","    if let restore = simulation.restorePreamble {","        print(\"Must restore footprint first\")","        \/\/ Submit RestoreFootprint operation","    }","","    \/\/ Get return value for read calls","    if let result = simulation.results?.first?.returnValue {","        print(\"Contract returned: \\(result)\")","    }","","    \/\/ For write calls, use simulation data","    transaction.setSorobanTransactionData(simulation.transactionData!)","    transaction.addResourceFee(simulation.minResourceFee!)","case .failure(let error):","    print(\"RPC error: \\(error)\")","}"]},{"inlineContent":[{"type":"text","text":"See also:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"[SorobanServer.simulateTransaction] for invoking simulation","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"identifier":"https:\/\/developers.stellar.org","isActive":true,"type":"reference"}],"type":"paragraph"}]}]}],"kind":"content"}],"schemaVersion":{"major":0,"patch":0,"minor":3},"hierarchy":{"paths":[["doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk"]]},"sections":[],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse"},"relationshipsSections":[{"kind":"relationships","type":"inheritsFrom","title":"Inherits From","identifiers":["doc:\/\/stellar-ios-mac-sdk.stellarsdk\/objc(cs)NSObject"]},{"kind":"relationships","type":"conformsTo","title":"Conforms To","identifiers":["doc:\/\/stellar-ios-mac-sdk.stellarsdk\/objc(pl)NSObject","doc:\/\/stellar-ios-mac-sdk.stellarsdk\/s7CVarArgP","doc:\/\/stellar-ios-mac-sdk.stellarsdk\/s28CustomDebugStringConvertibleP","doc:\/\/stellar-ios-mac-sdk.stellarsdk\/s23CustomStringConvertibleP","doc:\/\/stellar-ios-mac-sdk.stellarsdk\/Se","doc:\/\/stellar-ios-mac-sdk.stellarsdk\/SQ","doc:\/\/stellar-ios-mac-sdk.stellarsdk\/SH"]}],"references":{"doc://stellar-ios-mac-sdk.stellarsdk/documentation/stellarsdk/SimulateTransactionResponse":{"role":"symbol","abstract":[{"type":"text","text":"Response from simulating a Soroban contract invocation."}],"kind":"symbol","title":"SimulateTransactionResponse","navigatorTitle":[{"kind":"identifier","text":"SimulateTransactionResponse"}],"type":"topic","url":"\/documentation\/stellarsdk\/simulatetransactionresponse","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"SimulateTransactionResponse"}],"identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse"},"doc://stellar-ios-mac-sdk.stellarsdk/documentation/stellarsdk/SimulateTransactionResponse/events":{"kind":"symbol","title":"events","type":"topic","abstract":[{"type":"text","text":"Array of the events emitted during the contract invocation(s). The events are ordered by their emission time. (an array of serialized base64 strings - DiagnosticEventXdr)"}],"fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"events"},{"kind":"text","text":": ["},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"text":"]?","kind":"text"}],"identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/events","url":"\/documentation\/stellarsdk\/simulatetransactionresponse\/events","role":"symbol"},"doc://stellar-ios-mac-sdk.stellarsdk/documentation/stellarsdk/SimulateTransactionResponse/error":{"kind":"symbol","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"error"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?"}],"type":"topic","abstract":[{"type":"text","text":"(optional) only present if the transaction failed. This field will include more details from stellar-core about why the invoke host function call failed."}],"url":"\/documentation\/stellarsdk\/simulatetransactionresponse\/error","identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/error","role":"symbol","title":"error"},"doc://stellar-ios-mac-sdk.stellarsdk/documentation/stellarsdk/SimulateTransactionResponse/restorePreamble":{"kind":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"restorePreamble","kind":"identifier"},{"text":": ","kind":"text"},{"text":"RestorePreamble","preciseIdentifier":"c:@M@stellarsdk@objc(cs)RestorePreamble","kind":"typeIdentifier"},{"text":"?","kind":"text"}],"identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/restorePreamble","title":"restorePreamble","abstract":[{"text":"It can only present on successful simulation (i.e. no error) of InvokeHostFunction operations. If present, it indicates","type":"text"},{"text":" ","type":"text"},{"text":"the simulation detected expired ledger entries which requires restoring with the submission of a RestoreFootprint","type":"text"},{"text":" ","type":"text"},{"text":"operation before submitting the InvokeHostFunction operation. The restorePreamble.minResourceFee and restorePreamble.transactionData fields should","type":"text"},{"text":" ","type":"text"},{"text":"be used to construct the transaction containing the RestoreFootprint","type":"text"}],"type":"topic","url":"\/documentation\/stellarsdk\/simulatetransactionresponse\/restorepreamble","role":"symbol"},"doc://stellar-ios-mac-sdk.stellarsdk/documentation/stellarsdk/SimulateTransactionResponse/sorobanAuth":{"title":"sorobanAuth","role":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"sorobanAuth","kind":"identifier"},{"text":": [","kind":"text"},{"preciseIdentifier":"s:10stellarsdk28SorobanAuthorizationEntryXDRV","text":"SorobanAuthorizationEntryXDR","kind":"typeIdentifier"},{"text":"]?","kind":"text"}],"abstract":[{"text":"The soroban authorization entries if available.","type":"text"}],"type":"topic","kind":"symbol","url":"\/documentation\/stellarsdk\/simulatetransactionresponse\/sorobanauth","identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/sorobanAuth"},"doc://stellar-ios-mac-sdk.stellarsdk/documentation/stellarsdk/SimulateTransactionResponse/transactionData":{"title":"transactionData","role":"symbol","kind":"symbol","url":"\/documentation\/stellarsdk\/simulatetransactionresponse\/transactiondata","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"transactionData"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"SorobanTransactionDataXDR","preciseIdentifier":"s:10stellarsdk25SorobanTransactionDataXDRV"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"The recommended Soroban Transaction Data to use when submitting the simulated transaction. This data contains the refundable fee and resource usage information such as the ledger footprint and IO access data.  Not present in case of error."}],"identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/transactionData","type":"topic"},"doc://stellar-ios-mac-sdk.stellarsdk/documentation/stellarsdk":{"kind":"symbol","identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk","title":"stellarsdk","type":"topic","abstract":[],"url":"\/documentation\/stellarsdk","role":"collection"},"doc://stellar-ios-mac-sdk.stellarsdk/documentation/stellarsdk/SimulateTransactionResponse/results":{"url":"\/documentation\/stellarsdk\/simulatetransactionresponse\/results","role":"symbol","title":"results","abstract":[{"text":"(optional) - This array will only have one element: the result for the Host Function invocation. Only present on successful simulation (i.e. no error) of InvokeHostFunction operations.","type":"text"}],"type":"topic","kind":"symbol","identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/results","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"results"},{"kind":"text","text":": ["},{"preciseIdentifier":"c:@M@stellarsdk@objc(cs)SimulateTransactionResult","kind":"typeIdentifier","text":"SimulateTransactionResult"},{"kind":"text","text":"]?"}]},"doc://stellar-ios-mac-sdk.stellarsdk/documentation/stellarsdk/SimulateTransactionResponse/minResourceFee":{"abstract":[{"type":"text","text":"Recommended minimum resource fee to add when submitting the transaction. This fee is to be added on top of the Stellar network fee. Not present in case of error."}],"url":"\/documentation\/stellarsdk\/simulatetransactionresponse\/minresourcefee","kind":"symbol","title":"minResourceFee","type":"topic","identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/minResourceFee","role":"symbol","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"minResourceFee"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:s6UInt32V","text":"UInt32"},{"kind":"text","text":"?"}]},"doc://stellar-ios-mac-sdk.stellarsdk/documentation/stellarsdk/SimulateTransactionResponse/latestLedger":{"type":"topic","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"latestLedger","kind":"identifier"},{"text":": ","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"}],"role":"symbol","title":"latestLedger","identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/latestLedger","abstract":[{"type":"text","text":"The sequence number of the latest ledger known to Soroban RPC at the time it handled the request."}],"url":"\/documentation\/stellarsdk\/simulatetransactionresponse\/latestledger","kind":"symbol"},"doc://stellar-ios-mac-sdk.stellarsdk/documentation/stellarsdk/SimulateTransactionResponse/footprint":{"identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/footprint","title":"footprint","role":"symbol","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"footprint"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Footprint","preciseIdentifier":"s:10stellarsdk9FootprintC"},{"kind":"text","text":"?"}],"abstract":[],"type":"topic","url":"\/documentation\/stellarsdk\/simulatetransactionresponse\/footprint","kind":"symbol"},"doc://stellar-ios-mac-sdk.stellarsdk/objc(cs)NSObject":{"type":"unresolvable","title":"ObjectiveC.NSObject","identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/objc(cs)NSObject"},"doc://stellar-ios-mac-sdk.stellarsdk/Se":{"type":"unresolvable","title":"Swift.Decodable","identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/Se"},"doc://stellar-ios-mac-sdk.stellarsdk/SQ":{"type":"unresolvable","title":"Swift.Equatable","identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/SQ"},"doc://stellar-ios-mac-sdk.stellarsdk/s28CustomDebugStringConvertibleP":{"type":"unresolvable","title":"Swift.CustomDebugStringConvertible","identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/s28CustomDebugStringConvertibleP"},"https://developers.stellar.org":{"titleInlineContent":[{"text":"Stellar developer docs","type":"text"}],"url":"https:\/\/developers.stellar.org","type":"link","title":"Stellar developer docs","identifier":"https:\/\/developers.stellar.org"},"doc://stellar-ios-mac-sdk.stellarsdk/objc(pl)NSObject":{"type":"unresolvable","title":"ObjectiveC.NSObjectProtocol","identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/objc(pl)NSObject"},"doc://stellar-ios-mac-sdk.stellarsdk/SH":{"type":"unresolvable","title":"Swift.Hashable","identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/SH"},"doc://stellar-ios-mac-sdk.stellarsdk/documentation/stellarsdk/SimulateTransactionResponse/init(from:)":{"identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/init(from:)","title":"init(from:)","abstract":[],"kind":"symbol","role":"symbol","fragments":[{"text":"init","kind":"identifier"},{"text":"(","kind":"text"},{"text":"from","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Decoder","preciseIdentifier":"s:s7DecoderP","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"text":"throws","kind":"keyword"}],"url":"\/documentation\/stellarsdk\/simulatetransactionresponse\/init(from:)","type":"topic"},"doc://stellar-ios-mac-sdk.stellarsdk/s23CustomStringConvertibleP":{"type":"unresolvable","title":"Swift.CustomStringConvertible","identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/s23CustomStringConvertibleP"},"doc://stellar-ios-mac-sdk.stellarsdk/documentation/stellarsdk/SimulateTransactionResponse/stateChanges":{"title":"stateChanges","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"stateChanges","kind":"identifier"},{"text":": [","kind":"text"},{"text":"LedgerEntryChange","kind":"typeIdentifier","preciseIdentifier":"c:@M@stellarsdk@objc(cs)LedgerEntryChange"},{"text":"]?","kind":"text"}],"kind":"symbol","role":"symbol","url":"\/documentation\/stellarsdk\/simulatetransactionresponse\/statechanges","type":"topic","identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/documentation\/stellarsdk\/SimulateTransactionResponse\/stateChanges","abstract":[{"text":"If present, it indicates how the state (ledger entries) will change as a result of the transaction execution.","type":"text"}]},"doc://stellar-ios-mac-sdk.stellarsdk/s7CVarArgP":{"type":"unresolvable","title":"Swift.CVarArg","identifier":"doc:\/\/stellar-ios-mac-sdk.stellarsdk\/s7CVarArgP"}}}